RDI_KEY = [1467181691, 1183747558, 2295696650, 2872913981, 
           3985949595, 1167617886, 2456145696, 1983908744, 
           1691254605, 1940220242, 2343157641, 669658452, 
           3933987943, 2755882342, 2387585511, 3489596135, 
           519733812, 66116926, 443033592, 3709741719, 
           1205414596, 3317253935, 2154024991, 120811425, 
           12696572, 3264829322, 3297653058, 1496260786, 
           3263879007, 3836784179, 3986353720, 301852573, 
           1717244140, 843340450, 2868831214, 590402168, 
           1301536347, 1277266537, 24633075, 215413545, 
           2507495909, 3374879953, 3410158159, 2701159730, 
           1121935556, 3319251686, 3240229195, 2202374133, 
           174630378, 3222599069, 3182754037, 3136012217, 
           1566414626, 4203658666, 3180837350, 36734409, 
           62240513, 1602030790, 963668568, 1147508611, 
           270919338, 878685859, 2007431025, 3693036108]

RDI_FILE = open("RES00.RDI", "rb")
RDI_FILE.seek(0, 2)
filesize = RDI_FILE.tell()
RDI_FILE.seek(0)

RDI_INTS = []
while(RDI_FILE.tell() < filesize):
    RDI_INTS.append(int.from_bytes(RDI_FILE.read(4), "little"))
RDI_FILE.close()

RDI_OUTPUT = []
for i in range(len(RDI_INTS)):
    RDI_KEY[i % 64] = RDI_KEY[i % 64] ^ RDI_KEY[(i+3) % 64]
    RDI_OUTPUT.append((RDI_INTS[i] ^ RDI_KEY[(i+1) % 64]).to_bytes(4, "little"))

file = open("dump.bin", "wb")
file.write(b"".join(RDI_OUTPUT))
file.close()